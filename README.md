# Космический Телеграм
Набор скриптов выполняющих загрузку картинок из свободных источников с веб-ресурсов: https://api.spacexdata.com и https://api.nasa.gov и автоматическую или ручную их публикацию в телеграм-канал. Для использования доступны пять скриптов:
1. fetch_nasa_apod_images.py: загружает картинки с портала NASA, так называемые астрономические картинки дня, Astronomy Picture of the Day - APOD. При выполнении скрипта возможно использование параметра "-c" или "--count" для указания количество загружаемых картинок. Выполнение без параметра загружает одну картинку.
2. fetch_nasa_epic_images.py: загружает с портала NASA картинки планеты Земля, так называемые EPIC: Earth Polychromatic Imaging Camera. При выполнении скрипта возможно использование параметра "-c" или "--count" для указания количество загружаемых картинок. Выполнение без параметра загружает одну картинку.
3. fetch_spacex_image.py: загружает картинки запуска космических аппаратов компании SpaceX. Выполнение скрипта без параметров скачивает картинки последнего запуска. Однако бывает, что фотографий на запуске не делали. В этом случае можно использовать параметр "-id" для указания идентификтаора конкретного запуска. Вот id одного из запусков, на котором делали фото: 5eb87d47ffd86e000604b38a 
4. publish_one_image.py: публикует одну картинку в указанном телгерам-канале. При выполнении скрипта возможно использование параметра "-l" или "--link" для указания ссылки на картинку, либо параметра '-f' или '--file' для указания файла картинки на локальном диске. Использование скрипта без параметра опубликует одну случайную картинку из указанной директории.
5. publish.py: автоматически с указанной периодичностью публикует картинки в указанном телгерам-канале. При выполнении скрипта возможно использование параметра '-s' или '--sleep' для указания времени периода публикации в секундах. При использовании скрипта без параметров период публикации по умолчанию 4 часа (14400 секунд).


### Как установить
Python3 уже должен быть установлен. Затем используйте `pip` (или `pip3`, если есть конфликт с Python2) для установки зависимостей.
```commandline
pip install -r requirements.txt
```
Рекомендуется использовать виртуальное окружение для изоляции пректа.

Для корректной работы скриптов необходимо присутствие в папке проекта файла с настройками окружения: ".env". Файл должен содержать следующие ключи: 

SPACE_TELEGRAM_DIRECTORY_IMAGES - путь к директории с картинками

NASA_API_KEY - токен-ключ для использования API NASA. Для получения токена необходимо зарегистрироваться на сайте https://api.nasa.gov/, токен придёт на указанную при регистрации почту

TOKEN_TELEGRAM - секретный токен телеграм-бота, получаемый при регистрации нового бота через BotFather https://telegram.me/BotFather Инструкция для регистрации бота и получения токена: https://way23.ru/регистрация-бота-в-telegram.html

CHAT_ID - идентификатор телеграм-канала для публикации фотографий, представляет из себя ссылку вида: @some_channel, можно посмотреть например в свойствах канала (View channel info)

Пример файла .env
```
SPACE_TELEGRAM_DIRECTORY_IMAGES='images'
NASA_API_KEY='0123456789qwertyuiop'
TOKEN_TELEGRAM = '0123456789qwertyuiop'
CHAT_ID='@some_channel'
```


### Цель проекта
Проект создан в образовательных целях в рамках обучения на онлайн-курсе dvmn.org.
